<!doctype html>
<html>
	<head>
		<title>Gestor de Passwords</title>
        <link rel="shortcut icon" href="favicon.png">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<style>
			@import url('https://fonts.googleapis.com/css?family=Raleway');

			label, select {
				font-family: "Avant Garde", Avantgarde, "Century Gothic", CenturyGothic, "AppleGothic", sans-serif;
				font-size: 15px;
				padding: 5px 3px;
				text-align: left;
				text-transform: uppercase;
				text-rendering: optimizeLegibility;

				color: #2c2c2c;
				letter-spacing: .05em;
				text-shadow: 
				4px 4px 0px #d5d5d5, 
				7px 7px 0px rgba(0, 0, 0, 0.2);
			}

			textarea, select {
				width: 100%;
				padding: 12px 20px;
				margin: 8px 0;
				display: inline-block;
				border: 1px solid #ccc;
				border-radius: 4px;
				box-sizing: border-box;
				resize:none;
			}

			input[type=text], select {
				width: 100%;
				padding: 12px 20px;
				margin: 8px 0;
				display: inline-block;
				border: 1px solid #ccc;
				border-radius: 4px;
				box-sizing: border-box;
			}

			input[type=password], select {
				width: 100%;
				padding: 12px 20px;
				margin: 8px 0;
				display: inline-block;
				border: 1px solid #ccc;
				border-radius: 4px;
				box-sizing: border-box;
			}

			input[type=button] {
				width: 46%;
				display: inline;
				background-color: #4CAF50;
				color: white;
				padding: 14px 20px;
				margin: 8px 8px 8px 8px;
				border: none;
				border-radius: 4px;
				cursor: pointer;
			}

			button {
				position: relative;
				padding: 1em 1.5em;
				display: inline;
				text-align: center;
				border: none;
				background-color: transparent;
				cursor: pointer;
				outline: none;
				font-size: 18px;
				margin: 1em 0.8em;
				color: #566473;
				font-family: Raleway;
			}

			button::after, button::before {
				content: '';
				display: block;
				position: absolute;
				width: 20%;
				height: 20%;
				border: 2px solid;
				transition: all 0.6s ease;
				border-radius: 2px;
			}

			button::after {
				bottom: 0;
				right: 0;
				border-top-color: transparent;
				border-left-color: transparent;
				border-bottom-color: #566473;
				border-right-color: #566473;
			}

			button::before {
				top: 0;
				left: 0;
				border-bottom-color: transparent;
				border-right-color: transparent;
				border-top-color: #566473;
				border-left-color: #566473;
			}

			button:hover:after, button:hover:before {
				width: 100%;
				height: 100%;
			}


			input[type=submit]:hover {
			background-color: #45a049;
			}

			div {
			border-radius: 5px;
			background-color: #f2f2f2;
			padding: 20px;
			}

			h1 {
				font-family: "Avant Garde", Avantgarde, "Century Gothic", CenturyGothic, "AppleGothic", sans-serif;
				font-size: 25px;
				padding: 5px 3px;
				text-align: center;
				text-transform: uppercase;
				text-rendering: optimizeLegibility;

				color: #2c2c2c;
				letter-spacing: .05em;
				text-shadow: 
				4px 4px 0px #d5d5d5, 
				7px 7px 0px rgba(0, 0, 0, 0.2);
			}
		</style>
	</head>
	<body onload=start()>
		<!-- UI layout -->
		<div>
			<!-- input id="idExit" type="image" src="https://img.icons8.com/small/32/000000/exit.png" style="float:right" -->
	
				<h1>Generador de Contraseñas Random</h1>

				<p><label>Número de caracteres:</label>
					<input type="radio" name="nc" value="8" checked> 8
					<input type="radio" name="nc" value="12"> 12
					<input type="radio" name="nc" value="16"> 16
					<input type="radio" name="nc" value="24"> 24
					<input type="radio" name="nc" value="32"> 32
					<input type="radio" name="nc" value="64"> 64
				</p>

				<label>Número de digitos: </label>
				<select name="menuDig">
					<option>1</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5</option>
					<option>6</option>
					<option>7</option>
					<option>8</option>
					<option>9</option>
					<option>10</option>
				  </select>

				<label>Número de símbolos: </label>
				<select name="menuSym">
					<option>1</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5</option>
					<option>6</option>
					<option>7</option>
					<option>8</option>
					<option>9</option>
					<option>10</option>
				  </select>

				<p><label>Alternar mayúsculas y minúsculas:</label>
					<input type="radio" name="am" value="s" checked> Sí
					<input type="radio" name="am" value="n"> No
				</p>

				<p><label>Repetir caracteres:</label>
					<input type="radio" name="rc" value="s" checked> Sí
					<input type="radio" name="rc" value="n"> No
				</p>
				
				<button id="idGenerate">Generar contraseña</button>
	
				<textarea id="idPassword" name="cuentas" rows="1" style="resize:none; width: 100%" readonly></textarea>
				
				<button id="idSend">Enviar al formulario</button>
			
			</div>
        
        <script>
			
            const viewButton = document.getElementById('idView');
			const createButton = document.getElementById('idCreate');
			const inputLogin = document.getElementById('idLogin');
			const inputPass = document.getElementById('idPass');
            const inputURL = document.getElementById('idURL');
			const cuentasText = document.getElementById("idCuentas");

			//getRadioButtonSelectedValue(document.frmSO.so);
/*
			var select = document.getElementById('provincia');
			select.addEventListener('change',
			function(){
				var selectedOption = this.options[select.selectedIndex];
				console.log(selectedOption.value + ': ' + selectedOption.text);
			});*/

			//Funcion para saber que radio está elegido
			function getRadioButtonSelectedValue(ctrl)
			{
				for(i=0;i<ctrl.length;i++)
					if(ctrl[i].checked) return ctrl[i].value;
			}

            //Funcion para el boton de crear cuenta
            createButton.addEventListener('click', async () => {
				var loginText = inputLogin.value;
				var passText = inputPass.value;
				var urlText = inputURL.value;

				if(loginText != "" && passText != "" && urlText != ""){
                    await setCuentaInsertar(loginText, passText, urlText);
                    insertarCuenta();
				} else if (loginText == "") {
					alert("El usuario no puede estar en blanco");
				} else if (passText == "") {
					alert("La pass no puede estar en blanco");
				} else {
					alert("La URL no puede estar en blanco");
				}
            });

			const insertarCuenta = async () => {
				`${await window.insertarCuenta()}`;
				renderMSG();
			}
            
			const renderCuentas = async ()  => {
				cuentasText.value = `${await window.getCuentas()}`;
			}

        </script>
	</body>
</html>